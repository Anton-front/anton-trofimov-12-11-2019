(this["webpackJsonpapp-weather"]=this["webpackJsonpapp-weather"]||[]).push([[0],{46:function(e,t,a){e.exports=a.p+"static/media/weather-ico.3d7b78de.png"},54:function(e,t,a){e.exports=a(67)},59:function(e,t,a){},60:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(12),c=a.n(i),l=(a(59),a(60),a(19)),o=a(111),u=a(113),m=a(114),s=a(99),h=a(101),p=a(102),y=a(115),d=a(14),f=Object(d.b)("themeUI")((function(e){var t=e.themeUI;return r.a.createElement(s.a,{position:"static"},r.a.createElement(h.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement("nav",{className:"nav-bar"},r.a.createElement(u.a,{className:"main-nav"},r.a.createElement(m.a,null,r.a.createElement(l.b,{to:"/"},"Home")),r.a.createElement(m.a,null,r.a.createElement(l.b,{to:"/favorites"},"Favorites")))),r.a.createElement(p.a,{label:"Switch theme",control:r.a.createElement(y.a,{onChange:function(){t.changeTheme()},color:"secondary"})})))})),v=a(21),w=a(104),E=a(110),I=a(50),T=a(112),g=a(103),C=a(105),b=a(47),N=a.n(b),k=a(48),M=a.n(k),U=a(70),L=a(106),P=a(46),D=a.n(P),j=Object(w.a)((function(e){return{gridItem:{color:e.palette.primary.main,padding:"30px 20px"}}})),x=["Sun","Mon","Tus","Wen","Thu"],W=Object(d.b)("weatherInfo")(Object(d.c)((function(e){var t=e.weatherInfo,a=j();return r.a.createElement("div",null,r.a.createElement(h.a,{container:!0,direction:"row",justify:"center"},r.a.createElement(I.a,{component:"form",className:"search-form",onSubmit:function(e){e.preventDefault(),t.handleSubmit()}},r.a.createElement(T.a,{placeholder:"Search city",onChange:function(e){t.handleChange(e.target.value)},value:t.defaultCity}),r.a.createElement(g.a,{type:"submit","aria-label":"search"},r.a.createElement(N.a,null)))),r.a.createElement(I.a,{className:a.gridItem},r.a.createElement("div",{className:t.isLoading?"preloader-wrap active":"preloader-wrap"},r.a.createElement("div",{className:"weather-details-wrap"},r.a.createElement("div",{className:"weather-details-col"},r.a.createElement("div",{className:"weather-details-img"},r.a.createElement("img",{src:D.a,alt:"weather ico"})),r.a.createElement("div",null,r.a.createElement(U.a,{variant:"h5"},t.currentCityInfo.LocalizedName,", \xa0",t.currentCityInfo.Country.LocalizedName),r.a.createElement(U.a,{variant:"h5"},t.currentCityWeather.Temperature.Metric.Value,"\xa0",t.currentCityWeather.Temperature.Metric.Unit))),r.a.createElement("div",{className:"weather-details-col btn-wrap"},r.a.createElement(C.a,{"aria-label":"like",color:"primary",onClick:function(e){e.preventDefault(),t.handleToggleItems()}},r.a.createElement(M.a,null)))),r.a.createElement(U.a,{variant:"h3",className:"weather-heading-text"},t.currentCityWeather.WeatherText),r.a.createElement("div",{className:"weather-days-wrap"},t.weather5day.map((function(e,t){return r.a.createElement("article",{className:"day-weather-item",key:t},r.a.createElement("div",{className:"text-center"},r.a.createElement(U.a,{variant:"h6",className:"day-title"},x[t]),r.a.createElement(U.a,{component:"p"},"min: \xa0",e.Temperature.Minimum.Value,e.Temperature.Minimum.Unit),r.a.createElement(U.a,{component:"p"},"max: \xa0",e.Temperature.Maximum.Value,e.Temperature.Maximum.Unit),r.a.createElement(U.a,{variant:"caption",display:"block",className:"weather-day-caption"},e.Day.IconPhrase)))}))),r.a.createElement("div",{className:"preloader-ico-wrap"},r.a.createElement(L.a,{className:"preloader-ico"})))))}))),O=a(107),V=a(109),S=a(108),z=Object(w.a)((function(e){return{gridItem:{color:e.palette.primary.main}}})),A=Object(d.b)("weatherInfo")(Object(d.c)((function(e){var t=e.weatherInfo,a=z();return r.a.createElement("div",{className:"weather-favorites-wrap"},t.favorites.map((function(e,n){return r.a.createElement("div",{className:"weather-favorite-col text-center",key:n},r.a.createElement(O.a,{className:"weather-favorite-item text-center"},r.a.createElement("div",{className:a.gridItem},r.a.createElement(S.a,null,r.a.createElement(U.a,{variant:"h5"},e.LocalizedName),r.a.createElement(U.a,{component:"p"},e.Temperature.Metric.Value,"\xa0",e.Temperature.Metric.Unit)),r.a.createElement(V.a,{className:"btn-details-wrap"},r.a.createElement(l.b,{className:"btn-details-link",to:"/",onClick:(i=e.LocalizedName,t.handleChange(i),void t.handleSubmit())},"See details")))));var i})))}))),H=Object(w.a)((function(e){return{root:{padding:e.spacing(5,1)}}})),F=[{key:0,path:"/",exact:!0,component:W},{key:1,path:"/favorites",exact:!0,component:A}];function J(){var e=H();return r.a.createElement("main",{className:e.root},r.a.createElement(E.a,null,r.a.createElement(v.c,null,F.map((function(e){return r.a.createElement(v.a,e)})))))}var K=Object(d.b)("themeUI")(Object(d.c)((function(e){var t=e.themeUI;return r.a.createElement(o.a,{theme:t.currentTheme},r.a.createElement("div",{className:"App"},r.a.createElement(f,null),r.a.createElement(J,null)))}))),R=a(30),q=a(20),B=a(5),G=a(49),$=Object(G.a)({palette:{primary:{main:"#1a72b0"}}}),Q=Object(G.a)({palette:{primary:{main:"#1f1f1f"}}}),X=function(){function e(){Object(R.a)(this,e),this.currentTheme=$}return Object(q.a)(e,[{key:"changeTheme",value:function(){JSON.stringify(this.currentTheme)===JSON.stringify($)?this.currentTheme=Q:this.currentTheme=$}}]),e}();Object(B.h)(X,{currentTheme:B.m,changeTheme:B.d});var Y=new X,Z=function(){function e(){Object(R.a)(this,e),this.defaultCity="Tel Aviv",this.isFavorite=!1,this.apikey="apikey=pDu5xempVF8sw40jqPMObfxVIF7Gofk4",this.urlAutocomplete="http://dataservice.accuweather.com/locations/v1/cities/autocomplete",this.urlCityInfo="http://dataservice.accuweather.com/currentconditions/v1/",this.urlWeather5day="http://dataservice.accuweather.com/forecasts/v1/daily/5day/",this.isLoading=!1,this.favorites=[],this.currentCityInfo={Version:1,Key:"215854",Type:"City",Rank:31,LocalizedName:"Tel Aviv",Country:{ID:"IL",LocalizedName:"Israel"},AdministrativeArea:{ID:"TA",LocalizedName:"Tel Aviv"}},this.currentCityWeather={LocalObservationDateTime:"2019-11-13T18:20:00+02:00",EpochTime:1573662e3,WeatherText:"Clear",WeatherIcon:33,HasPrecipitation:!1,PrecipitationType:null,IsDayTime:!1,Temperature:{Metric:{Value:27.6,Unit:"C",UnitType:17},Imperial:{Value:82,Unit:"F",UnitType:18}},MobileLink:"http://m.accuweather.com/en/il/tel-aviv/215854/current-weather/215854?lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv/215854/current-weather/215854?lang=en-us"},this.weather5day=[{Date:"2019-11-14T07:00:00+02:00",EpochDate:1573707600,Temperature:{Minimum:{Value:21.1,Unit:"C",UnitType:17},Maximum:{Value:31.1,Unit:"C",UnitType:17}},Day:{Icon:1,IconPhrase:"Sunny",HasPrecipitation:!1},Night:{Icon:34,IconPhrase:"Mostly clear",HasPrecipitation:!1},Sources:["AccuWeather"],MobileLink:"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=1&unit=c&lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=1&unit=c&lang=en-us"},{Date:"2019-11-15T07:00:00+02:00",EpochDate:1573794e3,Temperature:{Minimum:{Value:16.6,Unit:"C",UnitType:17},Maximum:{Value:25.8,Unit:"C",UnitType:17}},Day:{Icon:17,IconPhrase:"Partly sunny w/ t-storms",HasPrecipitation:!0,PrecipitationType:"Rain",PrecipitationIntensity:"Moderate"},Night:{Icon:41,IconPhrase:"Partly cloudy w/ t-storms",HasPrecipitation:!0,PrecipitationType:"Rain",PrecipitationIntensity:"Moderate"},Sources:["AccuWeather"],MobileLink:"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=2&unit=c&lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=2&unit=c&lang=en-us"},{Date:"2019-11-16T07:00:00+02:00",EpochDate:1573880400,Temperature:{Minimum:{Value:16.9,Unit:"C",UnitType:17},Maximum:{Value:25,Unit:"C",UnitType:17}},Day:{Icon:2,IconPhrase:"Mostly sunny",HasPrecipitation:!1},Night:{Icon:33,IconPhrase:"Clear",HasPrecipitation:!1},Sources:["AccuWeather"],MobileLink:"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=3&unit=c&lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=3&unit=c&lang=en-us"},{Date:"2019-11-17T07:00:00+02:00",EpochDate:1573966800,Temperature:{Minimum:{Value:15.4,Unit:"C",UnitType:17},Maximum:{Value:26.2,Unit:"C",UnitType:17}},Day:{Icon:2,IconPhrase:"Mostly sunny",HasPrecipitation:!1},Night:{Icon:34,IconPhrase:"Mostly clear",HasPrecipitation:!1},Sources:["AccuWeather"],MobileLink:"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=4&unit=c&lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=4&unit=c&lang=en-us"},{Date:"2019-11-18T07:00:00+02:00",EpochDate:1574053200,Temperature:{Minimum:{Value:14.4,Unit:"C",UnitType:17},Maximum:{Value:25.1,Unit:"C",UnitType:17}},Day:{Icon:3,IconPhrase:"Partly sunny",HasPrecipitation:!1},Night:{Icon:33,IconPhrase:"Clear",HasPrecipitation:!1},Sources:["AccuWeather"],MobileLink:"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=5&unit=c&lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=5&unit=c&lang=en-us"}]}return Object(q.a)(e,[{key:"checkFavorite",value:function(){var e=this;this.isFavorite=this.favorites.some((function(t){return t.LocalizedName===e.currentCityInfo.LocalizedName}))}},{key:"handleToggleItems",value:function(){var e=this,t={Key:this.currentCityInfo.key,LocalizedName:this.currentCityInfo.LocalizedName,WeatherText:this.currentCityWeather.WeatherText,Temperature:{Metric:{Value:this.currentCityWeather.Temperature.Metric.Value,Unit:"C",UnitType:17}}};this.favorites.some((function(t){return t.LocalizedName===e.currentCityInfo.LocalizedName}))?this.favorites=this.favorites.filter((function(t,a){return t.LocalizedName!==e.currentCityInfo.LocalizedName})):this.favorites.push(t)}},{key:"handleChange",value:function(e){this.defaultCity=e}},{key:"handleSubmit",value:function(){this.fetchData(this.defaultCity)}},{key:"fetchData",value:function(e){var t=this;this.isLoading=!0,fetch(this.urlAutocomplete+"?q="+e+"&"+this.apikey).then((function(e){return e.json()})).then((function(e){e.length>0&&(t.currentCityInfo=e[0])})).then((function(e){return fetch(t.urlCityInfo+t.currentCityInfo.Key+"?"+t.apikey).then((function(e){return e.json()})).then((function(e){e.length>0&&(t.currentCityWeather=e[0])})).then((function(e){return fetch(t.urlWeather5day+t.currentCityInfo.Key+"?"+t.apikey+"&metric=true").then((function(e){return e.json()})).then((function(e){t.weather5day=e.DailyForecasts,t.isLoading=!1}))}))})).catch((function(e){console.log("error message: ",e),t.isLoading=!1}))}}]),e}();Object(B.h)(Z,{defaultCity:B.m,currentCityInfo:B.m,currentCityWeather:B.m,weather5day:B.m,favorites:B.m,handleChange:B.d,handleSubmit:B.d,handleToggleItems:B.d,checkFavorite:B.d});var _={themeUI:Y,weatherInfo:new Z},ee=function(){return r.a.createElement(l.a,null,r.a.createElement(d.a,_,r.a.createElement(K,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[54,1,2]]]);
//# sourceMappingURL=main.3f8e7edf.chunk.js.map